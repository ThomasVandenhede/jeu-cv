!function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=43)}([function(t,e){var i;t.exports={toFixedPrecision:function(t,e){return+t.toFixed(e||0)},noop:function(){},randInt:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},lerp:function(t,e,i){return(1-i)*t+i*e},show:function(t){t.classList.remove("hidden")},hide:function(t){t.classList.add("hidden")},incrementID:(i=-1,function(){return i+=1}),render:function(t){return function t(e){if("string"==typeof e||"number"==typeof e)return document.createTextNode(e);var i=document.createElement(e.type),s=e.props||{};return Object.keys(s).forEach((function(t){if("function"!=typeof s[t]&&i.setAttribute(t,s[t]),"function"==typeof s[t]){var e=t.substring(2);i.addEventListener(e,s[t])}})),(e.children||[]).forEach((function(e){if(void 0!==e)return i.appendChild(t(e))})),i}(t)},h:function(){var t={},e=arguments[0],i=arguments[1],s=Array.prototype.slice.call(arguments,2);return t.type=e,t.props=i,s.length?t.children=s.reduce((function(t,e){return Array.isArray(e),t.concat(e)}),[]):t.children=null,t},emptyElement:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}}},,function(t,e,i){var s=i(12),o=i(5),n=i(0),a=30,r=30;function l(t){SDK.Rectangle.call(this,{x:t.x,y:t.y,width:a,height:r}),this.ABS_HORIZONTAL_MAX_SPEED=250,this.v=new SDK.Vector,this.acceleration=new SDK.Vector,this.solid=!0,this.maxHitPoints=100,this.hitPoints=this.maxHitPoints,this.skills=[],this.color=this.getColorFromHP(),this.isColliding=[0,0],this.collidableWith=[],this.collidingWith=[null,null],this.shield=new s({shielded:this}),this.sounds={jump:[new SDK.Sound("./assets/sounds/Swoosh2.mp3",.1),new SDK.Sound("./assets/sounds/Swoosh3.mp3",.3)],hit:[new SDK.Sound("./assets/sounds/Hit 1.mp4",.2),new SDK.Sound("./assets/sounds/Hit 2.mp4",.2)],still:new SDK.Sound("./assets/sounds/Medium hum.mp4",.15),die:new SDK.Sound("./assets/sounds/impactsplat03.mp3",.8),hurt:new SDK.Sound("./assets/sounds/Knife Stab.mp3",.2)},this.stickyJump=!1,this.GRAVITY_ACCELERATION=gameData.constants.GRAVITY_ACCELERATION}l.prototype=Object.create(SDK.Rectangle.prototype),l.prototype.constructor=l,l.prototype.moveLeft=function(){this.v.x-=this.ABS_HORIZONTAL_MAX_SPEED},l.prototype.moveRight=function(){this.v.x+=this.ABS_HORIZONTAL_MAX_SPEED},l.prototype.jump=function(){this.isColliding[1]===Math.sign(this.GRAVITY_ACCELERATION)&&(this.sparks=o.sparksParticles(this),this.sounds.jump[n.randInt(0,this.sounds.jump.length-1)].replay(),this.isColliding[1]=0,this.v.y=700*-Math.sign(this.GRAVITY_ACCELERATION))},l.prototype.reverseGravity=function(){this.GRAVITY_ACCELERATION=-this.GRAVITY_ACCELERATION},l.prototype.zeroGravity=function(){this.GRAVITY_ACCELERATION?this.GRAVITY_ACCELERATION=0:this.GRAVITY_ACCELERATION=gameData.constants.GRAVITY_ACCELERATION},l.prototype.applyDamage=function(t){this.sounds.hurt.replay(),this.hitPoints=n.toFixedPrecision(this.hitPoints-t)},l.prototype.die=function(t){this.isDead=!0,this.hitPoints=0,this.color=this.getColorFromHP(),this.sounds.still.stop(),this.sounds.die.play(),this.explosion=o.explosionParticles(this),t&&t()},l.prototype.applyGravity=function(){this.acceleration.y=this.GRAVITY_ACCELERATION,this.v.y+=this.acceleration.y*dt,this.v.y=Math.abs(this.v.y)>1e3?1e3*Math.sign(this.v.y):this.v.y},l.prototype.update=function(){if(this.isDead)this.explosion.update();else{this.sparks&&this.sparks.update();var t=this.v.x*dt,e=this.v.y*dt;this.isColliding[1]||(this.y=n.toFixedPrecision(this.y+e,4)),this.isColliding[0]||(this.x=n.toFixedPrecision(this.x+t,4))}},l.prototype.getHitPointsRatio=function(){return this.hitPoints/this.maxHitPoints},l.prototype.getColorFromHP=function(){return"hsl("+120*this.getHitPointsRatio()+", 100%, 50%)"},l.prototype.draw=function(t,e){if(this.color=this.getColorFromHP(),this.isDead&&this.explosion.draw(t,e),!this.isDead&&this.sparks&&this.sparks.draw(t,e),!this.isDead){var i=this.center;t.save(),t.strokeStyle=this.color,t.fillStyle=this.color,t.lineWidth=e.applyToDistance(5),t.fillRect(e.applyToX(this.x),e.applyToY(this.y),e.applyToDistance(this.width),e.applyToDistance(this.height)),t.fillStyle="black",t.fillRect(e.applyToX(this.left),e.applyToY(this.top+10),e.applyToDistance(this.width),e.applyToDistance(10)),t.fillStyle=this.color,t.beginPath(),t.moveTo(e.applyToX(i.x-10),e.applyToY(this.top+12)),t.quadraticCurveTo(e.applyToX(i.x-4),e.applyToY(this.top+14),e.applyToX(i.x-4),e.applyToY(this.top+16)),t.quadraticCurveTo(e.applyToX(i.x-10),e.applyToY(this.top+16),e.applyToX(i.x-10),e.applyToY(this.top+14)),t.closePath(),t.fill(),t.beginPath(),t.moveTo(e.applyToX(i.x+10),e.applyToY(this.top+12)),t.quadraticCurveTo(e.applyToX(i.x+4),e.applyToY(this.top+14),e.applyToX(i.x+4),e.applyToY(this.top+16)),t.quadraticCurveTo(e.applyToX(i.x+10),e.applyToY(this.top+16),e.applyToX(i.x+10),e.applyToY(this.top+14)),t.closePath(),t.fill(),t.restore(),(this.shield.isOpen||this.shield.isAnimating)&&this.shield.draw(t,e)}},t.exports=l},function(t,e){var i=function(){function t(t){SDK.Rectangle.call(this,t),this.v=new SDK.Vector,this.solid=!t||void 0===t.solid||t.solid,this.passthrough=!(!t||void 0===t.passthrough)&&t.passthrough,this.touched=!1,this.color="#5e4c4c"}return t.prototype=Object.create(SDK.Rectangle.prototype),t.prototype.constructor=t,t.prototype.update=function(){},t.prototype.draw=function(t,e){var i=3;t.save(),t.lineWidth=e.applyToDistance(i),this.touched||!this.passthrough?(t.strokeStyle="#db0000",t.fillStyle=this.color,t.beginPath(),t.rect(e.applyToX(this.x+i/2),e.applyToY(this.y+i/2),e.applyToDistance(this.width-i),e.applyToDistance(this.height-i)),t.fill(),t.stroke()):(i=3,t.strokeStyle=this.color,t.lineWidth=e.applyToDistance(i),t.beginPath(),t.strokeRect(e.applyToX(this.x+i/2),e.applyToY(this.y+i/2),e.applyToDistance(this.width-i),e.applyToDistance(this.height-i))),t.restore()},t}();t.exports=i},,function(t,e,i){var s=i(13),o=i(0);t.exports={sparksParticles:function(t){var e=Date.now();return{particleIndex:0,particles:{},minSpeed:5,maxSpeed:20,maxSize:20,minSize:3,maxLife:2e3,duration:200,addNewParticle:function(){this.particleIndex++;var i=(this.duration-(Date.now()-e))/this.duration,n=o.lerp(this.minSize,this.maxSize,i),a=t.hasWon?"rgb("+o.randInt(0,255)+", "+o.randInt(0,255)+", "+o.randInt(0,255)+")":t.color;switch(o.randInt(0,3)){case 0:particle=new s({x:o.randInt(t.left,t.right),y:t.top-n,size:n,color:a,vx:o.randInt(-this.maxSpeed,this.maxSpeed),vy:o.randInt(-this.maxSpeed,-this.minSpeed),maxLife:this.maxLife}),particle.id=this.particleIndex,this.particles[this.particleIndex]=particle;break;case 1:particle=new s({x:o.randInt(t.left,t.right),y:t.bottom,size:n,color:a,vx:o.randInt(-this.maxSpeed,this.maxSpeed),vy:o.randInt(this.minSpeed,this.maxSpeed),maxLife:this.maxLife}),particle.id=this.particleIndex,this.particles[this.particleIndex]=particle;break;case 2:particle=new s({x:t.left-n,y:o.randInt(t.top,t.bottom),size:n,color:a,vx:o.randInt(-this.maxSpeed,-this.minSpeed),vy:o.randInt(-this.maxSpeed,this.maxSpeed),maxLife:this.maxLife}),particle.id=this.particleIndex,this.particles[this.particleIndex]=particle;break;case 3:particle=new s({x:t.right,y:o.randInt(t.top,t.bottom),size:n,color:a,vx:o.randInt(this.minSpeed,this.maxSpeed),vy:o.randInt(-this.maxSpeed,this.maxSpeed),maxLife:this.maxLife}),particle.id=this.particleIndex,this.particles[this.particleIndex]=particle}},update:function(){if(Date.now()<=e+this.duration)for(var t=0;t<2;t++)this.addNewParticle();for(var i in this.particles){var s=this.particles[i];s.update(),Date.now()-s.createdAt>=this.maxLife&&delete this.particles[i]}},draw:function(t,e){for(var i in t.save(),this.particles){this.particles[i].draw(t,e)}t.restore()}}},explosionParticles:function(t){for(var e=[],i=0,s=t.left;s<t.right;s+=5)for(var n=t.top;n<t.bottom;n+=5){t.center;var a=new SDK.Vector(o.randInt(-250,250),o.randInt(50*-Math.sign(t.GRAVITY_ACCELERATION)*10,10*-Math.sign(t.GRAVITY_ACCELERATION)*10)),r=new SDK.Particle({x:s,y:n,size:5,color:t.color,vx:a.x,vy:a.y,maxLife:o.randInt(500,1500)});e[i]=r,i++;a=new SDK.Vector(o.randInt(-250,250),o.randInt(50*-Math.sign(t.GRAVITY_ACCELERATION)*10,10*-Math.sign(t.GRAVITY_ACCELERATION)*10)),r=new SDK.Particle({x:s,y:n,size:5,color:t.color,vx:a.x,vy:a.y,maxLife:o.randInt(500,1500)});e[i]=r,i++}return{update:function(){for(var i in e){var s=e[i];s.v.y+=t.GRAVITY_ACCELERATION/4*dt,s.update(),Date.now()-s.createdAt>=s.maxLife&&delete e[i]}},draw:function(t,i){for(var s in t.save(),e){e[s].draw(t,i)}t.restore()}}},hitParticles:function(t,e,i,s){Date.now();for(var n=0,a={},r=0;r<30;r++){var l=i.getUnitVector().scale(o.randInt(10,200)).rotateRadians(Math.random()*Math.PI/3-Math.PI/6);n++;var h=new SDK.Particle({id:n,particles:a,x:t,y:e,size:o.randInt(2,6),color:s,vx:l.x,vy:l.y,maxLife:o.randInt(300,500),circle:!0});a[n]=h}return{update:function(){for(var t in a){var e=a[t];e.update(),Date.now()-e.createdAt>=e.maxLife&&delete a[t]}},draw:function(t,e){for(var i in t.save(),a){a[i].draw(t,e)}t.restore()}}}}},function(t,e,i){var s=i(14),o=function(){function t(t,e){SDK.Circle.call(this,t,e,10),this.v=new SDK.Vector,this.solid=!1,this.damage=5,this.fireDelay=500,this.visionRange=300,this.attackRange=500,this.lasers=[],this.lastFiredAt=Number.NEGATIVE_INFINITY}return t.prototype=Object.create(SDK.Circle.prototype),t.prototype.constructor=t,t.prototype.attack=function(t){var e=this.center;return this.lastFiredAt=Date.now(),new s({x:e.x,y:e.y,direction:t,damage:this.damage,range:this.attackRange,color:"lightgrey"})},t.prototype.update=function(){},t.prototype.updateVelocity=function(){},t.prototype.draw=function(t,e){t.save(),t.fillStyle="red",t.beginPath(),t.arc(e.applyToX(this.x),e.applyToY(this.y),e.applyToDistance(this.r),0,2*Math.PI),t.fill(),t.restore()},t}();t.exports=o},function(t,e,i){var s=i(3),o=i(0),n=function(){function t(t){s.call(this,t),this.xStart=void 0!==t.x?t.x:0,this.yStart=void 0!==t.x?t.y:0,this.xEnd=void 0!==t.xEnd?t.xEnd:this.xStart,this.yEnd=void 0!==t.yEnd?t.yEnd:this.yStart,this.speed=t.speed||50,this.v=new SDK.Vector(this.xEnd-this.x,this.yEnd-this.y);var e=this.v.norm;this.v=this.v.scale(this.speed/e),this.color="rgb(0, 100, 255)",this.color="darkorange"}return t.prototype=Object.create(s.prototype),t.prototype.constructor=t,t.prototype.updateVelocity=function(){},t.prototype.update=function(){var t=this.v.x*dt,e=this.v.y*dt;(this.x+t>this.xEnd||this.y+e>this.yEnd)&&(this.v.x=-Math.abs(this.v.x),this.v.y=-Math.abs(this.v.y)),(this.x+t<this.xStart||this.y+e<this.yStart)&&(this.v.x=Math.abs(this.v.x),this.v.y=Math.abs(this.v.y)),this.x=o.toFixedPrecision(this.x+t,2),this.y=o.toFixedPrecision(this.y+e,2)},t}();t.exports=n},function(t,e,i){var s=i(15);function o(t){s.call(this,Object.assign({},t,{src:"./assets/images/html-5-icon.png",width:t.width||50,height:t.height||50}))}function n(t){s.call(this,Object.assign({},t,{src:"./assets/images/css-3-icon.png",width:t.width||50,height:t.height||50}))}function a(t){s.call(this,Object.assign({},t,{src:"./assets/images/sass-logo.png",width:t.width||50,height:t.height||50}))}function r(t){s.call(this,Object.assign({},t,{src:"./assets/images/bootstrap-logo.png",width:t.width||50,height:t.height||50}))}function l(t){s.call(this,Object.assign({},t,{src:"./assets/images/jquery-logo.png",width:t.width||50,height:t.height||50}))}function h(t){s.call(this,Object.assign({},t,{src:"./assets/images/react-logo.png",width:t.width||50,height:t.height||50}))}function p(t){s.call(this,Object.assign({},t,{src:"./assets/images/angular-logo.svg",width:t.width||50,height:t.height||50}))}function c(t){s.call(this,Object.assign({},t,{src:"./assets/images/nodejs-logo.png",width:t.width||50,height:t.height||50}))}function u(t){s.call(this,Object.assign({},t,{src:"./assets/images/meteor-logo.png",width:t.width||50,height:t.height||50}))}function d(t){s.call(this,Object.assign({},t,{src:"./assets/images/mongodb-logo.png",width:t.width||50,height:t.height||50}))}o.prototype=Object.create(s.prototype),o.prototype.constructor=o,n.prototype=Object.create(s.prototype),n.prototype.constructor=n,a.prototype=Object.create(s.prototype),a.prototype.constructor=a,r.prototype=Object.create(s.prototype),r.prototype.constructor=r,l.prototype=Object.create(s.prototype),l.prototype.constructor=l,h.prototype=Object.create(s.prototype),h.prototype.constructor=h,p.prototype=Object.create(s.prototype),p.prototype.constructor=p,c.prototype=Object.create(s.prototype),c.prototype.constructor=c,u.prototype=Object.create(s.prototype),u.prototype.constructor=u,d.prototype=Object.create(s.prototype),d.prototype.constructor=d,t.exports={SkillAngular:p,SkillBootstrap:r,SkillCss:n,SkillHtml:o,SkillJquery:l,SkillMeteor:u,SkillMongo:d,SkillNode:c,SkillReact:h,SkillSass:a}},,,function(t,e,i){var s=i(2),o=(s=i(2),i(6)),n=i(3),a=i(7),r=i(8),l=r.SkillHtml,h=r.SkillCss,p=r.SkillSass,c=r.SkillBootstrap,u=r.SkillReact,d=r.SkillAngular,y=r.SkillJquery,g=r.SkillNode,m=r.SkillMongo,f=r.SkillMeteor,v=function(){var t={},e={Player:s,Ennemy:o,Platform:n,MovingPlatform:a,SkillHtml:l,SkillCss:h,SkillSass:p,SkillBootstrap:c,SkillReact:u,SkillAngular:d,SkillJquery:y,SkillNode:g,SkillMongo:m,SkillMeteor:f};function i(t){this.data=t.data,this.app=t.app}return i.prototype.buildLevel=function(i){if(!gameData.levels[i])return null;var s=gameData.levels[i],o=(i=s.name,s.worldRect),n=s.player,a=s.platforms,r=s.ennemies,l=s.skills;return t.name=i,t.countdownStart=s.countdownStart,t.worldRect=new SDK.Rectangle({x:o.props.x,y:o.props.y,width:o.props.width,height:o.props.height}),t.player=new e[n.type](n.props),t.platforms=[],a.forEach((function(i){t.platforms.push(new e[i.type](i.props))})),t.ennemies=[],r.forEach((function(i){t.ennemies.push(new e[i.type](i.props.x,i.props.y))})),t.skills=[],l.forEach((function(i){t.skills.push(new e[i.type](i.props))})),t.lasers=[],t.particles=[],t},i.prototype.buildEntities=function(e){t.entities=[].concat(t.platforms).concat(t.skills).concat(t.ennemies).concat(t.lasers).concat([t.player]),e&&(t.entities=t.entities.concat(e))},i.prototype.deleteLevel=function(t){delete gameData.levels[t]},i}();t.exports=v},function(t,e){var i=function(){var t=0;function e(e){this.shielded=e.shielded||null,this.r=t,this.isOpen=!1,this.isAnimating=!1,this.openingDuration=.3,this.closingDuration=.6,this.hitPoints=200,this.sounds={open:new SDK.Sound("./assets/sounds/Open.mp3",.1),close:new SDK.Sound("./assets/sounds/Close.mp3",.2)}}return e.prototype.getBoundingRect=function(){var t=this.shielded;return new SDK.Rectangle({x:t.left-this.r,y:t.top-this.r,width:t.width+2*this.r,height:t.height+2*this.r})},e.prototype.open=function(){this.sounds.close.stop(),this.sounds.open.play(),this.isOpen=!0,this.isAnimating=!0},e.prototype.close=function(){this.sounds.open.stop(),this.sounds.close.play(),this.isOpen=!1,this.isAnimating=!0},e.prototype.update=function(){var e;this.isOpen?(e=(40-t)/this.openingDuration*dt,this.r+e<40?this.r+=e:(this.r=40,this.isAnimating=!1)):(e=(40-t)/this.closingDuration*dt,this.r-e>t?this.r-=e:(this.r=t,this.isAnimating=!1))},e.prototype.hasCollisionWithLaser=function(t){var e=this.getBoundingRect(),i=SDK.physics.collision,s=this.shielded,o=this.r;return!!i.RectangleWithRectangle(e,t.getBoundingRect())&&(c1=new SDK.Circle({x:s.left,y:s.top,r:o}),c2=new SDK.Circle({x:s.right,y:s.top,r:o}),c3=new SDK.Circle({x:s.right,y:s.bottom,r:o}),c4=new SDK.Circle({x:s.left,y:s.bottom,r:o}),r1=new SDK.Rectangle({x:s.left-o,y:s.top,width:s.width+2*o,height:s.height}),r2=new SDK.Rectangle({x:s.left,y:s.top-o,width:s.width,height:s.height+2*o}),c1.containsPoint(t.A.x,t.A.y)||c1.containsPoint(t.B.x,t.B.y)||c2.containsPoint(t.A.x,t.A.y)||c2.containsPoint(t.B.x,t.B.y)||c3.containsPoint(t.A.x,t.A.y)||c3.containsPoint(t.B.x,t.B.y)||c4.containsPoint(t.A.x,t.A.y)||c4.containsPoint(t.B.x,t.B.y)||r1.contains(t.A.x,t.A.y)||r1.contains(t.B.x,t.B.y)||r2.contains(t.A.x,t.A.y)||r2.contains(t.B.x,t.B.y))},e.prototype.draw=function(t,e){var i=this.shielded.x-this.r,s=this.shielded.y-this.r,o=i+2*this.r+this.shielded.width,n=s+2*this.r+this.shielded.height;t.save(),t.fillStyle="rgba(255, 255, 255, 0.4)",t.strokeStyle=this.shielded.color,t.lineWidth=e.applyToDistance(2),t.beginPath(),t.moveTo(e.applyToX(i),e.applyToY(s+this.r)),t.arcTo(e.applyToX(i),e.applyToY(s),e.applyToX(i+this.r),e.applyToY(s),e.applyToDistance(this.r)),t.lineTo(e.applyToX(o-this.r),e.applyToY(s)),t.arcTo(e.applyToX(o),e.applyToY(s),e.applyToX(o),e.applyToY(s+this.r),e.applyToDistance(this.r)),t.lineTo(e.applyToX(o),e.applyToY(n-this.r)),t.arcTo(e.applyToX(o),e.applyToY(n),e.applyToX(o-this.r),e.applyToY(n),e.applyToDistance(this.r)),t.lineTo(e.applyToX(i+this.r),e.applyToY(n)),t.arcTo(e.applyToX(i),e.applyToY(n),e.applyToX(i),e.applyToY(n-this.r),e.applyToDistance(this.r)),t.closePath(),t.fill(),t.stroke(),t.restore()},e}();t.exports=i},function(t,e){var i=function(){function t(t){SDK.Particle.call(this,t),this.image=new Image,this.image.src="./assets/images/smoke2.png"}return t.prototype=Object.create(SDK.Particle.prototype),t.prototype.constructor=t,t.prototype.draw=function(t,e){t.globalAlpha=Math.max(0,1-(Date.now()-this.createdAt)/this.maxLife),t.save(),t.drawImage(this.image,e.applyToX(this.x),e.applyToY(this.y),e.applyToDistance(this.size),e.applyToDistance(this.size)),t.restore()},t}();t.exports=i},function(t,e){var i=function(){function t(t){this.length=20;var e=new SDK.Vector(t.x,t.y),i=SDK.Vector.sum(e,t.direction.scale(this.length));SDK.Segment.call(this,e,i),this.origin=new SDK.Vector(t.x,t.y),this.speed=250,this.v=SDK.Vector.subtract(i,e).getUnitVector().scale(this.speed),this.damage=t.damage,this.createdAt=Date.now(),this.range=t.range,this.color=t.color}return t.prototype=Object.create(SDK.Segment.prototype),t.prototype.constructor=t,t.prototype.hasReachedMaxRange=function(){return SDK.Vector.subtract(this.B,this.origin).normSquared>=Math.pow(this.range,2)},t.prototype.update=function(){var t=this.v.scale(dt);this.A=SDK.Vector.sum(this.A,t),this.B=SDK.Vector.sum(this.B,t)},t.prototype.draw=function(t,e){t.save(),t.strokeStyle=this.color,t.lineWidth=e.applyToDistance(3),t.beginPath(),t.moveTo(e.applyToX(this.A.x),e.applyToY(this.A.y)),t.lineTo(e.applyToX(this.B.x),e.applyToY(this.B.y)),t.stroke(),t.restore()},t}();t.exports=i},function(t,e){var i=function(){function t(t){SDK.Rectangle.call(this,t),this.v=new SDK.Vector,this.solid=!1,this.image=new Image,this.image.src=t.src}return t.prototype=Object.create(SDK.Rectangle.prototype),t.prototype.constructor=t,t.prototype.update=function(){},t.prototype.draw=function(t,e){t.save(),t.drawImage(this.image,e.applyToX(this.x),e.applyToY(this.y),e.applyToDistance(this.width),e.applyToDistance(this.height)),t.restore()},t}();t.exports=i},function(t){t.exports={constants:{GRAVITY_ACCELERATION:1600},colors:{STAR_WARS_YELLOW:"#ffd700"},sounds:{location:"./assets/sounds/",files:[{filename:"Hit 1.mp4",volume:.2},{filename:"Hit 2.mp4",volume:.2},{filename:"Light swing 1.mp4",volume:1},{filename:"Light swing 1.mp4",volume:1},{filename:"Medium hum.mp4",volume:.15},{filename:"Open.mp3",volume:.4},{filename:"Close.mp3",volume:.6},{filename:"impactsplat03.mp3.flac",volume:.8}]},musics:{location:"./assets/music/",files:[{filename:"Star Wars - John Williams - Duel Of The Fates.mp3",volume:1}]},levels:{"test level":{name:"test level",countdownStart:5e3,cssBackground:{src:"./assets/images/background_1000_stars.png",size:"800px 600px"},worldRect:{props:{x:-1e3,y:-2e3,width:5e3,height:8e3}},player:{type:"Player",props:{x:10,y:-200,color:"red"}},platforms:[{type:"Platform",props:{x:0,y:-350,width:200,height:5}},{type:"Platform",props:{x:350,y:-250,width:50,height:5}},{type:"Platform",props:{x:0,y:-130,width:180,height:5}},{type:"Platform",props:{x:0,y:-150,width:180,height:5}},{type:"Platform",props:{x:330,y:-400,width:150,height:5}},{type:"Platform",props:{x:150,y:200,width:50,height:5}},{type:"Platform",props:{x:500,y:-270,width:80,height:80}},{type:"Platform",props:{x:600,y:-500,width:400,height:20}}],ennemies:[],skills:[{type:"SkillHtml",props:{x:350,y:-570,width:50,height:50}},{type:"SkillCss",props:{x:500,y:-600,width:50,height:50}},{type:"SkillJquery",props:{x:1e3,y:-600,width:50,height:50}},{type:"SkillMongo",props:{x:200,y:0,width:50,height:50}}]},"level 1":{name:"level 1",countdownStart:15e3,cssBackground:{src:"./assets/images/background_1000_stars.png",size:"800px 600px"},worldRect:{props:{x:0,y:-2e3,width:3e3,height:3e3}},player:{type:"Player",props:{x:10,y:-500}},platforms:[{type:"Platform",props:{x:-20,y:-400,width:220,height:10}},{type:"Platform",props:{x:350,y:-250,width:50,height:10}},{type:"Platform",props:{x:0,y:-130,width:180,height:10,passthrough:!0}},{type:"Platform",props:{x:0,y:-150,width:180,height:10,passthrough:!0}},{type:"Platform",props:{x:330,y:-390,width:150,height:10,passthrough:!0}},{type:"Platform",props:{x:150,y:200,width:50,height:10}},{type:"Platform",props:{x:500,y:-270,width:80,height:80}},{type:"Platform",props:{x:480,y:-170,width:120,height:160}},{type:"Platform",props:{x:500,y:10,width:80,height:120,passthrough:!0}},{type:"Platform",props:{x:480,y:180,width:120,height:120,passtarough:!0}},{type:"Platform",props:{x:700,y:-80,width:30,height:20}},{type:"Platform",props:{x:350,y:70,width:30,height:20,passthrough:!0}},{type:"Platform",props:{x:700,y:210,width:30,height:20,passthrough:!0}},{type:"Platform",props:{x:200,y:-470,width:10,height:170}},{type:"Platform",props:{x:0,y:-1e4,width:0,height:2e4}},{type:"Platform",props:{x:0,y:-500,width:400,height:10,passthrough:!0}},{type:"Platform",props:{x:0,y:-600,width:100,height:100}},{type:"Platform",props:{x:400,y:-600,width:100,height:100}},{type:"Platform",props:{x:100,y:-600,width:400,height:10,passthrough:!0}},{type:"Platform",props:{x:0,y:-700,width:200,height:100}},{type:"Platform",props:{x:500,y:-700,width:100,height:100}},{type:"Platform",props:{x:200,y:-700,width:400,height:10,passthrough:!0}},{type:"Platform",props:{x:0,y:-800,width:100,height:100}},{type:"Platform",props:{x:400,y:-800,width:100,height:100}},{type:"Platform",props:{x:100,y:-800,width:400,height:10,passthrough:!0}},{type:"Platform",props:{x:0,y:-900,width:300,height:10,passthrough:!0}},{type:"Platform",props:{x:300,y:-900,width:100,height:100}},{type:"MovingPlatform",props:{x:200,y:-430,width:100,height:10,xEnd:400,yEnd:-430,speed:100}},{type:"MovingPlatform",props:{x:700,y:-400,width:80,height:30,xEnd:700,yEnd:-100,speed:100,passthrough:!0}},{type:"MovingPlatform",props:{x:0,y:-200,width:200,height:50,xEnd:30,yEnd:400,speed:100}},{type:"Platform",props:{x:800,y:-500,width:500,height:10}},{type:"MovingPlatform",props:{x:950,y:-800,width:50,height:200,xEnd:950,yEnd:-700,speed:200}},{type:"MovingPlatform",props:{x:1050,y:-800,width:50,height:200,xEnd:1050,yEnd:-700,speed:200}},{type:"MovingPlatform",props:{x:1150,y:-800,width:50,height:200,xEnd:1150,yEnd:-700,speed:200}},{type:"MovingPlatform",props:{x:100,y:-600,width:100,height:100,xEnd:300,yEnd:-600,speed:100}},{type:"MovingPlatform",props:{x:850,y:-400,width:150,height:10,xEnd:1250,yEnd:-400,speed:200}}],ennemies:[{type:"Ennemy",props:{x:450,y:-650}},{type:"Ennemy",props:{x:120,y:-750}},{type:"Ennemy",props:{x:900,y:-700}},{type:"Ennemy",props:{x:1250,y:-700}},{type:"Ennemy",props:{x:320,y:-970}},{type:"Ennemy",props:{x:900,y:-300}},{type:"Ennemy",props:{x:850,y:-300}},{type:"Ennemy",props:{x:950,y:-300}},{type:"Ennemy",props:{x:300,y:-250}},{type:"Ennemy",props:{x:300,y:250}},{type:"Ennemy",props:{x:20,y:-100}},{type:"Ennemy",props:{x:650,y:-500}}],skills:[{type:"SkillHtml",props:{x:350,y:-570,width:50,height:50}},{type:"SkillCss",props:{x:500,y:-600,width:50,height:50}},{type:"SkillJquery",props:{x:1e3,y:-600,width:50,height:50}},{type:"SkillMongo",props:{x:200,y:0,width:50,height:50}},{type:"SkillReact",props:{x:500,y:-200,width:50,height:50}},{type:"SkillAngular",props:{x:1300,y:-600,width:50,height:50}},{type:"SkillMeteor",props:{x:10,y:-880,width:50,height:50}},{type:"SkillSass",props:{x:830,y:50,width:50,height:50}},{type:"SkillBootstrap",props:{x:20,y:-350,width:50,height:50}},{type:"SkillNode",props:{x:1e3,y:-450,width:50,height:50}}]}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var s=i(44);window.addEventListener("DOMContentLoaded",(function(){document.documentElement.requestFullscreen=document.documentElement.requestFullscreen||document.documentElement.webkitRequestFullScreen||document.documentElement.mozRequestFullScreen||document.documentElement.msRequestFullscreen;var t=document.getElementsByTagName("canvas"),e=document.getElementById("start-game");function i(){for(var e=0;e<t.length;e++){var i=t[e],s=parseFloat(getComputedStyle(i).width),o=parseFloat(getComputedStyle(i).height);i.setAttribute("width",s),i.setAttribute("height",o)}}window.addEventListener("resize",i),e.addEventListener("click",(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,i(),window.game=new s({displayRulers:!0,displayDebug:!1}),game.start()})),window.hasOwnProperty("game")&&setInterval((function(){game.updateDebugInfo()}),50)}))},function(t,e,i){var s=i(45),o=i(46),n=i(11),a=i(47),r=i(48),l=i(49),h=i(50),p=i(51),c=i(0);window.gameData=i(16);var u=function(){function t(e){SDK.Game.call(this,e),window.addEventListener("blur",(function(t){window.hasOwnProperty("game")&&game.pause()})),this.introContainer=document.getElementById("game-intro"),this.gameContainer=document.getElementById("game-container"),c.hide(this.introContainer),c.show(this.gameContainer),document.documentElement.requestFullscreen&&document.documentElement.requestFullscreen(),e&&(e.displayDebug&&(this.debugIntervalID=setInterval((function(){game.updateDebugInfo()}),50)),this.displayRulers=void 0===e.displayRulers||e.displayRulers),this.gameMenu=new s({game:this}),this.state=t.states.PAUSED,this.levelManager=new n({data:gameData,app:this}),this.currentLevelName="level 1",this.grid=new SDK.Grid({options:{isGame:!0,displayRulers:this.displayRulers},canvas:this.canvas,camera:this.camera,mouse:this.mouse}),this.ghost=new l,this.clock=new h,this.clockDisplay=new p({game:this,x:canvas.width-170,y:35,width:80,height:30})}return t.prototype=Object.create(SDK.Game.prototype),t.prototype.constructor=t,t.states={PAUSED:"paused",RUNNING:"running",GAME_OVER:"game over",VICTORY:"victory",EXIT:0},t.prototype.loadGameDataFromLocalStorage=function(){var t=localStorage.getItem("gameData");t&&(gameData=JSON.parse(t))},t.prototype.preload=function(){var t,e=Array.prototype.slice.call(arguments),i=0,s=e[e.length-1];"function"==typeof s?(done=s,i=e.length-1,t=e.slice(0,e.length-1)):(i=e.length,t=e),this.images={};for(var o=0;o<t.length;o++){var n=e[o].name,a=e[o].source;this.images[n]=new Image,this.images[n].src=a,this.images[n].onload=function(){0===--i&&done()}}},t.prototype.handleKeyboard=function(){var t=this.keyboard,e=this.touchInput,i=this.level.player;i.isDead||((t.keys.ArrowRight.isPressed||e.JOYPAD_RIGHT)&&i.moveRight(),(t.keys.ArrowLeft.isPressed||e.JOYPAD_LEFT)&&i.moveLeft(),(t.keys.ArrowDown.isPressed||e.JOYPAD_DOWN)&&i.GRAVITY_ACCELERATION<0&&i.jump(),(t.keys.ArrowUp.isPressed||e.JOYPAD_UP)&&i.GRAVITY_ACCELERATION>0&&i.jump(),(t.keys.Space.isPressed||e.BUTTON_A)&&i.jump(),(t.keys.Enter.isPressed||e.BUTTON_B)&&(i.shield.isAnimating||(i.shield.isOpen?i.shield.close():i.shield.open())),t.keys.Equal.isPressed&&this.camera.zoomIn(),t.keys.Minus.isPressed&&this.camera.zoomOut())},t.prototype.update=function(){if(this.state===t.states.RUNNING&&(this.runPhysics(),this.handleKeyboard()),this.state!==t.states.PAUSED){var e=this.level.player;this.ghost.update(),!e.isDead&&this.level.ennemies.forEach((function(t){var i=SDK.Vector.subtract(e.center,t.center);if(i.normSquared<Math.pow(t.visionRange,2)&&Date.now()-t.lastFiredAt>t.fireDelay){var s=i.getUnitVector();this.level.lasers.push(t.attack(s))}}),this),this.level.lasers.forEach((function(t,e){t.hasReachedMaxRange()?this.collisionManager.destroyLaser(e):t.update()}),this),e.shield.update(),this.level.platforms.forEach((function(t){t.update()})),e.update(),this.level.particles.forEach((function(t,e){Date.now()-t.createdAt>t.maxLife?this.level.particles.splice(e,1):t.update()}),this),e.isDead||(!e.within(this.level.worldRect)||this.clock.timeRemaining<=0)&&e.die(),this.camera.update(),this.state!==t.states.GAME_OVER&&this.state!==t.states.VICTORY&&(this.clock.update(),this.checkVictory(),this.checkDefeat())}else this.camera.updateDimensions()},t.prototype.setBackground=function(t){this.canvas.style.backgroundImage="url("+t+")",this.canvas.backgroundSize=canvas.width+"px "+canvas.height+"px"},t.prototype.pauseLoop=function(){this.frame&&cancelAnimationFrame(this.frame),this.frame=null},t.prototype.exit=function(){this.pauseLoop(),this.gameMenu.close(),c.hide(this.gameMenu.gameContainerEl),c.show(this.introContainer),this.state=t.states.EXIT,this.keyboard.unbindEventHandlers(),this.touchInput.unbindEventHandlers(),delete game},t.prototype.pause=function(){this.state!==t.states.GAME_OVER&&this.state!==t.states.VICTORY&&(!this.gameMenuEl&&this.gameMenu.showPauseMenu(),this.clock.pause(),this.soundManager.pauseAll(),this.state=t.states.PAUSED)},t.prototype.unpause=function(){this.state!==t.states.GAME_OVER&&this.state!==t.states.VICTORY&&this.gameMenu.close(),this.clock.play(),this.soundManager.playPaused(),this.state=t.states.RUNNING},t.prototype.displaySplash=function(){document.getElementById("splash").classList.remove("hidden")},t.prototype.hideSplash=function(){document.getElementById("splash").classList.add("hidden")},t.prototype.start=function(){this.displaySplash(),setTimeout(function(){this.preload({name:"htmlLogo",source:"assets/images/html-5-icon.png"},{name:"cssLogo",source:"assets/images/css-3-icon.png"},{name:"bootstrapLogo",source:"assets/images/bootstrap-logo.png"},{name:"jqueryLogo",source:"assets/images/jquery-logo.png"},{name:"sassLogo",source:"assets/images/sass-logo.png"},{name:"nodeLogo",source:"assets/images/nodejs-logo.png"},{name:"angularLogo",source:"assets/images/angular-logo.svg"},{name:"reactLogo",source:"assets/images/react-logo.png"},{name:"mongoLogo",source:"assets/images/mongodb-logo.png"},{name:"meteorLogo",source:"assets/images/meteor-logo.png"},{name:"background",source:"assets/images/background_2000_stars.png"},{name:"smoke",source:"assets/images/smoke2.png"},function(){this.hideSplash(),this.pause(),this.loadGameDataFromLocalStorage(),this.init(),this.step()}.bind(this))}.bind(this),1500)},t.prototype.restart=function(){this.gameMenu.close(),this.unpause(),this.init(),this.step()},t.prototype.init=function(){this.level=this.levelManager.buildLevel(this.currentLevelName),this.clock.reset(this.level.countdownStart),this.timer.reset(),this.levelManager.buildEntities(),this.collisionManager=new o({level:this.level,clock:this.clock,camera:this.camera}),this.ghost.init({clock:this.clock,player:this.level.player}),this.setBackground("./assets/images/background_2000_stars.png"),this.camera.follow(this.level.player,(this.canvas.width-this.level.player.width)/2-10,(this.canvas.height-this.level.player.height)/2-10),this.lifeBar=new a({x:60,y:40,width:200,height:15,gameObject:this.level.player}),this.skillBar=new r({player:this.level.player,skills:this.level.skills}),this.keyboard.keys.Pause.onDown=function(){this.keyboard.keys.Pause.repeat||("running"===this.state?this.pause():this.unpause())},this.keyboard.keys.KeyG.onDown=function(){this.keyboard.keys.KeyG.repeat||this.level.player.reverseGravity()},this.pauseLoop()},t.prototype.runPhysics=function(){this.level.player.applyGravity(),this.collisionManager.handleCollisions()},t.prototype.checkVictory=function(){this.level.skills.length<=0&&this.state!==t.states.GAME_OVER&&(this.clock.pause(),this.state=t.states.VICTORY,this.level.player.v=new SDK.Vector,setTimeout(function(){this.gameMenu.showVictoryMenu()}.bind(this),1e3))},t.prototype.checkDefeat=function(){this.level.player.isDead&&this.state!==t.states.GAME_OVER&&(this.clock.pause(),this.state=t.states.GAME_OVER,setTimeout(function(){this.gameMenu.showGameOverMenu()}.bind(this),1500))},t.prototype.render=function(t,e){this.clearCanvas(t),this.renderBackground(t,e),this.renderScene(t,e),this.renderUI(t,e)},t.prototype.clearCanvas=function(t){t.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.renderBackground=function(t,e){this.canvas.style.backgroundPosition=.502*-e.x+"px "+.502*-e.y+"px"},t.prototype.renderScene=function(t,e){this.levelManager.buildEntities([this.ghost].concat(this.level.particles)),this.level.entities.forEach((function(i){i.draw(t,e)}))},t.prototype.renderUI=function(t,e){this.uiElements=[this.clockDisplay,this.grid,this.skillBar],this.uiElements.forEach((function(i){i.draw(t,e)}))},t.prototype.updateDebugInfo=function(){var t=document.getElementById("debug-container");if(c.emptyElement(t),this.level){var e=c.h("div",{class:"debug"},c.h("h2",null,"debug info"),c.h("section",{class:"player"},c.h("p",null,c.h("strong",null,"x: "),this.level.player.x,c.h("br"),c.h("strong",null," y: "),this.level.player.y),c.h("p",null,c.h("strong",null,"width: "),this.level.player.width,c.h("br"),c.h("strong",null," height: "),this.level.player.height),c.h("p",null,c.h("strong",null,"crouching: "),this.level.player.isCrouching),c.h("p",null,c.h("strong",null,"speedX: "),this.level.player.v.x,c.h("br"),c.h("strong",null," speedY: "),this.level.player.v.y),c.h("p",null,c.h("strong",null,"accelX: "),this.level.player.acceleration.x,c.h("strong",null," accelY: "),this.level.player.acceleration.y),c.h("p",null,c.h("strong",null,"colliding: "),this.level.player.isColliding)),c.h("section",{class:"camera"},c.h("p",null,[c.h("strong",null,"camX: "),this.camera.x]),c.h("p",null,[c.h("strong",null,"camY: "),this.camera.y])));t.appendChild(c.render(e))}},t}();t.exports=u},function(t,e,i){var s=i(0);function o(t){this.game=t.game,this.gameContainerEl=document.getElementById("game-container"),this.uiContainerEl=document.getElementById("ui-container"),this.gameIntroEl=document.getElementById("game-intro"),this.resumeButtonVNode=s.h("li",{class:"game-menu__item"},s.h("a",{href:"",class:"game-menu__link",onclick:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,document.documentElement.requestFullscreen&&document.documentElement.requestFullscreen(),this.game.unpause()}.bind(this),onkeyup:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,13===t.keyCode&&t.target.click()}},"REPRENDRE")),this.restartButtonVNode=s.h("li",{class:"game-menu__item"},s.h("a",{href:"",class:"game-menu__link",onclick:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,document.documentElement.requestFullscreen&&document.documentElement.requestFullscreen(),this.game.restart()}.bind(this),onkeyup:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,13===t.keyCode&&t.target.click()}},"RECOMMENCER")),this.controlsButtonVNode=s.h("li",{class:"game-menu__item"},s.h("a",{href:"",class:"game-menu__link",onclick:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,this.showControlsMenu()}.bind(this),onkeyup:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,13===t.keyCode&&t.target.click()}},"CONTRÔLES")),this.aboutButtonVNode=s.h("li",{class:"game-menu__item"},s.h("a",{href:"",class:"game-menu__link",onclick:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,this.showAboutMenu()}.bind(this),onkeyup:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,13===t.keyCode&&t.target.click()}},"À PROPOS")),this.backButtonVNode=s.h("li",{class:"game-menu__item"},s.h("a",{href:"",class:"game-menu__link",onclick:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,this.game.state===this.game.constructor.states.PAUSED&&this.showPauseMenu(),this.game.state===this.game.constructor.states.VICTORY&&this.showVictoryMenu(),this.game.state===this.game.constructor.states.GAME_OVER&&this.showGameOverMenu()}.bind(this),onkeyup:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,13===t.keyCode&&t.target.click()}},"RETOUR")),this.loadButtonVNode=s.h("li",{class:"game-menu__item"},s.h("a",{href:"",class:"game-menu__link",onclick:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,this.showLoadMenu()}.bind(this),onkeyup:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,13===t.keyCode&&t.target.click()}},"CHARGER UN NIVEAU")),this.editorButtonVNode=s.h("li",{class:"game-menu__item"},s.h("a",{href:"./level-editor.html",class:"game-menu__link"},"OUVRIR L'ÉDITEUR")),this.exitButtonVNode=s.h("li",{class:"game-menu__item"},s.h("a",{href:"",class:"game-menu__link",onclick:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,document.exitFullscreen=document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen,document.exitFullscreen&&document.exitFullscreen(),this.game.exit()}.bind(this),onkeyup:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,13===t.keyCode&&t.target.click()}},"QUITTER LE JEU"))}o.prototype.showMenu=function(t){this.close(),this.uiContainerEl.appendChild(s.render(t))},o.prototype.showGameOverMenu=function(){this.showMenu(s.h("div",{class:"game-menu"},s.h("h2",null,"PERDU !"),s.h("ul",{class:"game-menu__list"},this.restartButtonVNode,this.loadButtonVNode,this.editorButtonVNode,this.exitButtonVNode)))},o.prototype.showVictoryMenu=function(){this.showMenu(s.h("div",{class:"game-menu"},s.h("h2",null,"VICTOIRE !"),s.h("p",null,"Vous avez retrouvé toutes mes principales compétences, vous pouvez avoir plus d'infos en consultant mon cv détaillé ",s.h("a",{href:"./assets/files/CV Thomas Vandenhede.pdf"},"ici"),". Ou bien essayez de battre votre score."),s.h("ul",{class:"game-menu__list"},this.restartButtonVNode,this.loadButtonVNode,this.editorButtonVNode,this.exitButtonVNode)))},o.prototype.showPauseMenu=function(){this.showMenu(s.h("div",{class:"game-menu"},s.h("h2",null,"JEU EN PAUSE"),s.h("ul",{class:"game-menu__list"},this.resumeButtonVNode,this.restartButtonVNode,this.controlsButtonVNode,this.loadButtonVNode,this.editorButtonVNode,this.aboutButtonVNode,this.exitButtonVNode)))},o.prototype.showControlsMenu=function(){this.showMenu(s.h("div",{class:"game-menu"},s.h("h2",null,"CONTRÔLES"),s.h("ul",{class:"game-menu__list"},s.h("div",{class:"controls-container"},s.h("table",{class:"controls"},s.h("tr",null,s.h("th",null,s.h("span",{class:"kbd"},"←")," / ",s.h("span",{class:"kbd"},"→")," ou ",s.h("span",{class:"kbd"},"Q")," / ",s.h("span",{class:"kbd"},"D")),s.h("td",null,"Se déplacer horizontalement")),s.h("tr",null,s.h("th",null,s.h("span",{class:"kbd"},"↑")," ou ",s.h("span",{class:"kbd"},"Espace")," ou ",s.h("span",{class:"kbd"},"Z")),s.h("td",null,"Sauter")),s.h("tr",null,s.h("th",null,s.h("span",{class:"kbd"},"↲")),s.h("td",null,"Ouvrir le bouclier")),s.h("tr",null,s.h("th",null,s.h("span",{class:"kbd"},"Échap")),s.h("td",null,"Afficher cet écran")),s.h("tr",null,s.h("th",null,s.h("span",{class:"kbd"},"F11")),s.h("td",null,"Plein écran")),s.h("tr",null,s.h("th",null,s.h("span",{class:"kbd"},"+")," / ",s.h("span",{class:"kbd"},")")),s.h("td",null,"Zoomer / Dézoomer")))),this.backButtonVNode)))},o.prototype.showAboutMenu=function(){this.showMenu(s.h("div",{class:"game-menu"},s.h("h2",null,"À PROPOS"),s.h("p",null,s.h("p",null,"Ce jeu est un projet que j'ai réalisé pour ma formation de Dev JS à l'Ifocop de Paris. Il a nécessité un bon mois de travail et pas mal de nuits blanches."),s.h("p",null,"Le code est entièrement écrit en JavaScript, HTML et CSS et n'utilise aucun framework (hormis une touche de Bootstrap pour l'éditeur de niveaux).")),s.h("ul",{class:"game-menu__list"},this.backButtonVNode)))},o.prototype.showLoadMenu=function(){this.showMenu(s.h("div",{class:"game-menu"},s.h("h2",null,"CHARGER UN NIVEAU"),s.h("ul",{class:"game-menu__list"},Object.keys(gameData.levels).map(function(t){return s.h("li",null,s.h("a",{href:"",onclick:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,this.game.currentLevelName=gameData.levels[t].name,this.game.state=this.game.constructor.states.PAUSED,this.game.start()}.bind(this)},gameData.levels[t].name))}.bind(this))),s.h("ul",{class:"game-menu__list"},this.backButtonVNode)))},o.prototype.close=function(){var t=document.querySelector(".game-menu");t&&(s.emptyElement(t),this.uiContainerEl.removeChild(t))},t.exports=o},function(t,e,i){var s=i(5),o=i(0);function n(t){this.level=t.level,this.clock=t.clock,this.camera=t.camera}n.prototype.handleCollisions=function(){this.handleCollisionsWithPlatforms(),this.handleCollisionsWithSkills(),this.handleCollisionsWithLasers()},n.prototype.handleCollisionsWithLasers=function(){var t=this.level.player.getBoundingRect();this.level.player.shield.isOpen?this.level.lasers.forEach((function(t,e){this.level.player.shield.hasCollisionWithLaser(t)&&this.destroyLaser(e)}),this):this.level.lasers.forEach((function(e,i){var o=e.getBoundingRect();SDK.physics.collision.RectangleWithRectangle(t,o)&&(t.contains(e.A.x,e.A.y)||t.contains(e.B.x,e.B.y)||SDK.physics.collision.segmentRectangle(e.A,e.B,t)<Number.POSITIVE_INFINITY)&&(this.level.player.applyDamage(e.damage),this.level.player.hitPoints<=0&&this.level.player.die(),this.level.particles.push(s.hitParticles(e.B.x,e.B.y,SDK.Vector.subtract(e.A,e.B),"red")),this.destroyLaser(i))}),this)},n.prototype.destroyLaser=function(t){this.level.lasers.splice(t,1)},n.prototype.handleCollisionsWithSkills=function(){var t=this.level.player.getBoundingRect();this.level.skills.forEach((function(e,i){var s=e.getBoundingRect();SDK.physics.collision.RectangleWithRectangle(t,s)&&(this.level.player.skills.push(e),this.clock.countdownDuration+=5e3,this.level.skills.splice(i,1))}),this)},n.prototype.getCollidablePlatformsInViewport=function(){return this.level.platforms.filter((function(t){var e=t.getBoundingRect();return e.touched=!1,e.overlaps(this.camera)}),this)},n.prototype.getCollisions=function(t){var e=this.level.player,i=[];return t.forEach((function(t){var s=SDK.Rectangle.minkowskiDifference(t,e),o=SDK.Vector.subtract(e.v,t.v).scale(dt),n=SDK.physics.collision.segmentRectangle(new SDK.Vector,o,s),a=n.t,r=n.side;if(a<Number.POSITIVE_INFINITY){var l=r[0]?o.x*r[0]:o.y*r[1];l>0&&i.push({side:r,box:t,d:l})}})),i},n.prototype.handleCollisionsWithPlatforms=function(){var t,e=this.level.player,i=this.getCollidablePlatformsInViewport(),s=null,n=null;e.isColliding=[0,0],t=this.getCollisions(i);var a=0,r=0;t.forEach((function(t){var i=t.side,o=t.d,l=t.box;i[0]*e.isColliding[0]<0||i[1]*e.isColliding[1]<0?e.die():(l.solid&&(e.isColliding[0]=i[0]||e.isColliding[0],l.passthrough?e.isColliding[1]=i[1]*e.GRAVITY_ACCELERATION>0?i[1]:e.isColliding[1]:e.isColliding[1]=i[1]||e.isColliding[1]),i[0]?o>a&&(a=o,s=l):i[1]&&o>r&&(r=o,n=l))})),e.isColliding[0]&&(e.x=e.isColliding[0]>0?o.toFixedPrecision(s.left+s.v.x*dt-e.width,2):o.toFixedPrecision(s.right+s.v.x*dt,2)),e.isColliding[1]&&(e.y=e.isColliding[1]>0?o.toFixedPrecision(n.top+n.v.y*dt-e.height,2):o.toFixedPrecision(n.bottom+n.v.y*dt,2)),e.collidingWith=[s,n],s&&(s.touched=!0),n&&(n.touched=!0),e.isColliding[1]*e.GRAVITY_ACCELERATION>0&&(e.v.y=e.collidingWith[1].v.y),e.isColliding[0]?e.v.x=e.collidingWith[0].v.x:e.v.x=e.isColliding[1]*e.GRAVITY_ACCELERATION>0?e.collidingWith[1].v.x:0},t.exports=n},function(t,e){var i=function(){function t(t){SDK.Rectangle.call(this,t),this.gameObject=t.gameObject}return t.prototype=Object.create(SDK.Rectangle.prototype),t.prototype.constructor=t,t.prototype.draw=function(t){var e=this.gameObject.getHitPointsRatio();t.save(),t.fillStyle="rgba(0, 0, 0, 0.3)",t.fillRect(this.x,this.y,this.width,this.height),t.fillStyle="hsl("+120*e+", 100%, 40%)",t.fillRect(this.x,this.y,this.width*e,this.height),t.strokeStyle="white",t.lineWidth=1,t.beginPath(),t.strokeRect(this.x-.5,this.y-.5,this.width+1,this.height+1),t.fillStyle="white",t.font="bold 16px sans-serif",t.textAlign="center",t.fontWeight="bold",t.fillText(Math.ceil(utils.toFixedPrecision(100*e))+"%",this.x+this.width/2,this.y+this.height+20),t.restore()},t}();t.exports=i},function(t,e){function i(t){this.player=t.player,this.skills=t.skills}i.prototype.draw=function(t){var e=this.player.skills.length,i=e+this.skills.length;t.save(),t.fillStyle="rgba(0, 0, 0, 0.7)",t.fillRect(60,100,100,100+(e+e%2)/2*45),t.fillStyle="white",t.textAlign="center",t.font="16px arial",t.fillText("Skills",110,130),t.fillText(e+" / "+i,110,160),this.player.skills.forEach((function(e,i){t.drawImage(e.image,70+i%2*45,200+(i-i%2)/2*45,30,30)}),this),t.restore()},t.exports=i},function(t,e){function i(){}i.prototype.init=function(t){this.clock=t.clock,this.player=t.player,this.reset()},i.prototype.reset=function(){this.ghostIndex=0,this.ghostPositions=Array.isArray(this.ghostPositionsTemp)&&0!==this.ghostPositionsTemp.length?this.ghostPositionsTemp.slice(0):[],this.ghostPositionsTemp=[]},i.prototype.update=function(){this.ghost=this.ghostPositions.length?this.ghostPositions[this.ghostIndex]:null,this.ghostPositions[this.ghostIndex+1]&&this.ghostIndex++,this.ghostPositionsTemp.push({time:this.clock.timeEllapsed,x:this.player.x,y:this.player.y})},i.prototype.draw=function(t,e){this.ghost&&(t.save(),t.fillStyle="rgba(180, 180, 180, 0.7)",t.fillRect(e.applyToX(this.ghost.x),e.applyToY(this.ghost.y),e.applyToDistance(this.player.width),e.applyToDistance(this.player.height)),this.ghostPositions[this.ghostIndex+1]||(t.strokeStyle="black",t.beginPath(),t.moveTo(e.applyToX(this.ghost.x),e.applyToY(this.ghost.y)),t.lineTo(e.applyToX(this.ghost.x+this.player.width),e.applyToY(this.ghost.y+this.player.height)),t.moveTo(e.applyToX(this.ghost.x+this.player.width),e.applyToY(this.ghost.y)),t.lineTo(e.applyToX(this.ghost.x),e.applyToY(this.ghost.y+this.player.height)),t.stroke()),t.restore())},t.exports=i},function(t,e){function i(){this.isPaused=!1,this.hasMilliseconds=!1,this.isCountDown=!0}Object.defineProperties(i.prototype,{timeRemaining:{get:function(){return this.countdownDuration-this.timeEllapsed}}}),i.prototype.pause=function(){this.isPaused=!0},i.prototype.play=function(){this.isPaused=!1,this.currentTime=Date.now()},i.prototype.update=function(){this.isPaused||(this.previousTime=this.currentTime,this.currentTime=Date.now(),this.timeEllapsed+=this.currentTime-this.previousTime)},i.prototype.reset=function(t){this.timeEllapsed=0,this.countdownDuration=t||10802e3},i.prototype.getValues=function(){var t,e,i,s,o,n,a=(this.isCountDown?new Date(Math.max(0,this.timeRemaining)):new Date(this.timeEllapsed)).getTime();return t=a%1e3,e=(o=this.isCountDown&&!this.hasMilliseconds?Math.ceil:Math.floor)(a/1e3)%60,i=o((a-1e3*e)/6e4)%60,s=o((a-6e4*i-1e3*e)/36e5)%24,n={days:o((a-36e5*s-6e4*i-1e3*e)/864e5),hours:s,minutes:i,seconds:e},this.hasMilliseconds&&(n.milliseconds=t),n},t.exports=i},function(t,e){function i(t){SDK.Rectangle.call(this,t),this.DANGER_COUNTDOWN_TIME=5e3,this.game=t.game,this.timerEl=document.getElementById("gameclock")}i.prototype=Object.create(SDK.Rectangle.prototype),i.prototype.constructor=i,i.prototype.getText=function(t){var e=t.days,i=t.hours,s=t.minutes,o=t.seconds,n=t.milliseconds,a=[];return t.days>0&&a.push(e.toString()),(e>0||i>0)&&a.push(i.toString().padStart(2,"0")),a.push(s.toString().padStart(2,"0"),o.toString().padStart(2,"0")),this.game.clock.hasMilliseconds&&a.push(n.toString().padStart(3,"0").substring(0,2)),a.join(":")},i.prototype.draw=function(){var t=this.game.clock,e=t.getValues(),i=this.getText(e);this.timerEl.textContent!==i&&(t.isCountDown&&t.timeRemaining<this.DANGER_COUNTDOWN_TIME?this.timerEl.classList.add("danger"):this.timerEl.classList.contains("danger")&&this.timerEl.classList.remove("danger"),this.timerEl.innerHTML=i)},t.exports=i}]);
//# sourceMappingURL=game.js.map