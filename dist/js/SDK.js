!function(t){var e={};function i(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(o,s,function(e){return t[e]}.bind(null,s));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=23)}([function(t,e){var i;t.exports={toFixedPrecision:function(t,e){return+t.toFixed(e||0)},noop:function(){},randInt:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},lerp:function(t,e,i){return(1-i)*t+i*e},show:function(t){t.classList.remove("hidden")},hide:function(t){t.classList.add("hidden")},incrementID:(i=-1,function(){return i+=1}),render:function(t){return function t(e){if("string"==typeof e||"number"==typeof e)return document.createTextNode(e);var i=document.createElement(e.type),o=e.props||{};return Object.keys(o).forEach((function(t){if("function"!=typeof o[t]&&i.setAttribute(t,o[t]),"function"==typeof o[t]){var e=t.substring(2);i.addEventListener(e,o[t])}})),(e.children||[]).forEach((function(e){if(void 0!==e)return i.appendChild(t(e))})),i}(t)},h:function(){var t={},e=arguments[0],i=arguments[1],o=Array.prototype.slice.call(arguments,2);return t.type=e,t.props=i,o.length?t.children=o.reduce((function(t,e){return Array.isArray(e),t.concat(e)}),[]):t.children=null,t},emptyElement:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}}},function(t,e){function i(t,e){this.x=t||0,this.y=e||0}i.sum=function(){for(var t=0,e=0,o=0;o<arguments.length;o++)t+=arguments[o].x,e+=arguments[o].y;return new i(t,e)},i.subtract=function(t,e){return new i(t.x-e.x,t.y-e.y)},i.determinant=function(t,e){return t.x*e.y-t.y*e.x},i.dotProduct=function(t,e){return t.x*e.x+t.y*e.y},i.prototype.scale=function(t){return new i(this.x*t,this.y*t)},i.prototype.getUnitVector=function(){return 0===this.normSquared?new i:new i(this.x,this.y).scale(1/this.norm)},i.prototype.getNormalVector=function(){return new i(-this.y,this.x)},i.prototype.rotateRadians=function(t){return new i(Math.cos(t)*this.x-Math.sin(t)*this.y,Math.sin(t)*this.x+Math.cos(t)*this.y)},Object.defineProperties(i.prototype,{direction:{get:function(){return Math.atan2(this.y,this.x)},set:function(t){var e=this.norm;this.x=e*Math.cos(t),this.y=e*Math.sin(t)}},normSquared:{get:function(){return Math.pow(this.x,2)+Math.pow(this.y,2)}},norm:{get:function(){return Math.sqrt(this.normSquared)},set:function(t){if(0!==this.x||0!==this.y){var e=this.norm;this.x*=t/e,this.y*=t/e}}}}),t.exports=i},,,function(t,e,i){var o=i(1);function s(t){this.x=t.x,this.y=t.y,this.width=void 0!==t.width?t.width:0,this.height=void 0!==t.height?t.height:0}Object.defineProperties(s.prototype,{left:{get:function(){return this.width>=0?this.x:this.x+this.width},set:function(t){this.x=t}},top:{get:function(){return this.height>=0?this.y:this.y+this.height},set:function(t){this.y=bottom}},right:{get:function(){return this.width>=0?this.x+this.width:this.x},set:function(t){this.width===Number.POSITIVE_INFINITY?this.x=Number.NEGATIVE_INFINITY:this.x=t-this.width}},bottom:{get:function(){return this.height>=0?this.y+this.height:this.y},set:function(t){this.height===Number.POSITIVE_INFINITY?this.y=Number.NEGATIVE_INFINITY:this.y=t-this.height}},center:{get:function(){return new o(this.x+this.width/2,this.y+this.height/2)},set:function(t,e){this.x=t-this.width/2,this.y=e-this.height/2}}}),s.minkowskiDifference=function(t,e){return new s({x:t.left-e.right,y:t.top-e.bottom,width:t.width+e.width,height:t.height+e.height})},s.prototype.inflate=function(t,e){return this.x-=t,this.width+=2*t,this.y-=e,this.height+=2*e,this},s.prototype.resize=function(t,e){return this.width=t,this.height=e,this},s.prototype.getBoundingRect=function(){return this},s.prototype.within=function(t){return t.left<=this.left&&t.right>=this.right&&t.top<=this.top&&t.bottom>=this.bottom},s.prototype.overlaps=function(t){return this.left<t.right&&t.left<this.right&&this.top<t.bottom&&t.top<this.bottom},s.prototype.contains=function(t,e){return t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom},s.prototype.containsStrict=function(t,e){return t>this.left&&t<this.right&&e>this.top&&e<this.bottom},t.exports=s},,,,,function(t,e,i){var o=i(26),s=i(27);function n(t){this.game=t,this.handleKeyup=this.handleKeyup.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.preventDefault=!1,this.keys=s.reduce((function(t,e){return Object.assign(t,{[e]:new o(e)})}),{}),this.bindEventHandlers()}n.prototype.handleKeydown=function(t){var e=this.keys[t.code];e.isEnabled&&(this.preventDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),e.event=t,e.isPressed=!0,e.pressStart=t.timestamp,e.shiftKey=t.shiftKey,e.ctrlKey=t.ctrlKey,e.altKey=t.altKey,e.metaKey=t.metaKey,e.repeat=t.repeat,e.onDown.call(this.game))},n.prototype.handleKeyup=function(t){var e=this.keys[t.code];e.isEnabled&&(this.preventDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),e.event=t,e.isPressed=!1,e.pressEnd=t.timestamp,e.pressDuration=e.pressEnd-e.pressStart,e.shiftKey=t.shiftKey,e.ctrlKey=t.ctrlKey,e.altKey=t.altKey,e.metaKey=t.metaKey,e.repeat=t.repeat,e.onUp.call(this.game))},n.prototype.bindEventHandlers=function(){window.addEventListener("keydown",this.handleKeydown),window.addEventListener("keyup",this.handleKeyup)},n.prototype.unbindEventHandlers=function(){window.removeEventListener("keydown",this.handleKeydown),window.removeEventListener("keyup",this.handleKeyup)},n.prototype.disable=function(){this.preventDefault=!1},n.prototype.enable=function(){this.preventDefault=!0},t.exports=n},function(t,e){var i={SPRING_IN:0,SPRING_OUT:1,STATIC:2},o=function(){function t(t){this.game=t,this.JOYPAD_THRESHOLD_X=10,this.JOYPAD_THRESHOLD_Y=10,this.joypadMode=i.SPRING_IN,this.joypadOuter=document.getElementById("joypad-outer"),this.joypad=document.getElementById("joypad"),this.joypadWidth=parseInt(window.getComputedStyle(this.joypad).width),this.joypadHeight=parseInt(window.getComputedStyle(this.joypad).height),this.handleJoypadTouch=this.handleJoypadTouch.bind(this),this.handleJoypadTouchEnd=this.handleJoypadTouchEnd.bind(this),this.bindEventHandlers(),this.buttonLeft=document.getElementById("button-left-clickable-area"),this.buttonRight=document.getElementById("button-right-clickable-area"),this.buttonA=document.getElementById("button-a-clickable-area"),this.buttonB=document.getElementById("button-b-clickable-area"),this.buttonLeft.addEventListener("touchstart",function(t){t.preventDefault(),this.buttonLeft.classList.add("touched"),this.BUTTON_LEFT=!0}.bind(this)),this.buttonLeft.addEventListener("touchend",function(t){t.preventDefault(),this.buttonLeft.classList.remove("touched"),this.BUTTON_LEFT=!1}.bind(this)),this.buttonRight.addEventListener("touchstart",function(t){t.preventDefault(),this.buttonRight.classList.add("touched"),this.BUTTON_RIGHT=!0}.bind(this)),this.buttonRight.addEventListener("touchend",function(t){t.preventDefault(),this.buttonRight.classList.remove("touched"),this.BUTTON_RIGHT=!1}.bind(this)),this.buttonA.addEventListener("touchstart",function(t){t.preventDefault(),this.buttonA.classList.add("touched"),this.BUTTON_A=!0}.bind(this)),this.buttonA.addEventListener("touchend",function(t){t.preventDefault(),this.buttonA.classList.remove("touched"),this.BUTTON_A=!1}.bind(this)),this.buttonB.addEventListener("touchstart",function(t){t.preventDefault(),this.buttonB.classList.add("touched"),this.BUTTON_B=!0}.bind(this)),this.buttonB.addEventListener("touchend",function(t){t.preventDefault(),this.buttonB.classList.remove("touched"),this.BUTTON_B=!1}.bind(this))}return t.prototype.handleJoypadTouch=function(t){t.preventDefault(),this.joypad.style.transition=null;for(var e=this.joypadOuter.getBoundingClientRect(),i=e.left+e.width/2,o=e.top+e.height/2,s=null,n=0;n<t.touches.length;n++){var h=t.touches.item(n);if(h.target===this.joypadOuter||h.target===joypad){s=h;break}}var r=s.clientX-i,a=s.clientY-o,u=Math.atan2(a,r),c=Math.cos(u)*(e.width-this.joypadWidth)/2,p=Math.sin(u)*(e.height-this.joypadHeight)/2;this.JOYPAD_LEFT=!1,this.JOYPAD_RIGHT=!1,r>0&&(this.joypad.style.left=e.width/2+Math.min(c,r)+"px",Math.abs(r)>=this.JOYPAD_THRESHOLD_X&&(this.JOYPAD_RIGHT=!0)),r<0&&(this.joypad.style.left=e.width/2+Math.max(c,r)+"px",Math.abs(r)>=this.JOYPAD_THRESHOLD_X&&(this.JOYPAD_LEFT=!0)),this.JOYPAD_UP=!1,this.JOYPAD_DOWN=!1,a>0&&(this.joypad.style.top=e.height/2+Math.min(p,a)+"px",Math.abs(a),this.JOYPAD_THRESHOLD_Y),a<0&&(this.joypad.style.top=e.height/2+Math.max(p,a)+"px",Math.abs(a),this.JOYPAD_THRESHOLD_Y)},t.prototype.handleJoypadTouchEnd=function(t){t.preventDefault();var e=this.joypadOuter.getBoundingClientRect();console.log("TCL: TouchManager -> this.joypadMode",this.joypadMode),this.joypadMode===i.SPRING_IN&&(this.joypad.style.transition="all 0.07s ease-in-out",this.joypad.style.left=e.width/2+"px",this.joypad.style.top=e.height/2+"px",this.JOYPAD_UP=!1,this.JOYPAD_DOWN=!1,this.JOYPAD_RIGHT=!1,this.JOYPAD_LEFT=!1),this.joypadMode===i.SPRING_OUT&&(this.joypad.style.transition="all 0.07s ease-in-out",this.joypad.style.left=e.width/2+"px",this.joypad.style.top=e.height/2+"px")},t.prototype.bindEventHandlers=function(){this.joypadOuter.addEventListener("touchstart",this.handleJoypadTouch),this.joypadOuter.addEventListener("touchmove",this.handleJoypadTouch),this.joypadOuter.addEventListener("touchend",this.handleJoypadTouchEnd)},t.prototype.unbindEventHandlers=function(){this.joypadOuter.removeEventListener("touchstart",this.handleJoypadTouch),this.joypadOuter.removeEventListener("touchmove",this.handleJoypadTouch),this.joypadOuter.removeEventListener("touchend",this.handleJoypadTouchEnd)},t}();t.exports=o},,,,,,,function(t,e,i){var o=i(18),s=function(){function t(t){this.masterVolume=1,this.sounds={},this.musics={},this.pausedSounds=[];var e,i=t.sounds,s=t.musics;e=i.location,i.files.forEach((function(t){var i=t.filename,s=new o(e+i);s.volume=t.volume*this.masterVolume,this.sounds[i]=s}),this),e=s.location,s.files.forEach((function(t){var i=t.filename,s=new o(e+i);s.volume=t.volume*this.masterVolume,this.sounds[i]=s}),this)}return t.prototype.stopAll=function(){for(var t in this.sounds)t.stop()},t.prototype.pauseAll=function(){for(var t in this.sounds)t.isPlaying&&(this.pausedSounds.push(t),t.pause())},t.prototype.playPaused=function(){this.pausedSounds.forEach((function(t){t.play()}))},t}();t.exports=s},function(t,e){function i(t,e,i){i&&(this.sound.loop=i.loop||!1,this.sound.isMusic=i.isMusic||!1),this.sound=new Audio(t),this.sound.volume=void 0!==e?e:1,this.isPlaying=!1}i.prototype.play=function(){this.sound.play(),this.isPlaying=!0},i.prototype.pause=function(){this.sound.pause(),this.isPlaying=!0},i.prototype.stop=function(){this.pause(),this.rewind()},i.prototype.rewind=function(){this.sound.currentTime=0},i.prototype.replay=function(){this.rewind(),this.play()},t.exports=i},function(t,e,i){var o=i(4),s=i(1),n={NONE:"none",HORIZONTAL:"horizontal",VERTICAL:"vertical",BOTH:"both"};function h(t){this.zoomLevel=t.zoomLevel||1,this.height=canvas.height/this.zoomLevel,this.width=canvas.width/this.zoomLevel,this.canvas=t.canvas,this.worldRect=t.worldRect,this.zoomingRate=1.1,o.call(this,{x:t.x,y:t.y,width:this.canvas.width,height:this.canvas.height}),this.xDeadZone=this.canvas.width/3,this.yDeadZone=this.canvas.height/3,this.axis=n.BOTH,this.followed=null,this.shouldStayWithinWorldBounds=!1}h.prototype=Object.create(o.prototype),h.prototype.constructor=h,h.prototype.follow=function(t,e,i){this.followed=t,this.x=this.followed.center.x-this.width/2,this.y=this.followed.center.y-this.height/2,this.xDeadZone=e,this.yDeadZone=i},h.prototype.update=function(){if(this.updateDimensions(),this.followed)var t=Math.min((this.width-this.followed.width)/2,this.yDeadZone),e=Math.min((this.height-this.followed.height)/2,this.xDeadZone);null!=this.followed&&(this.axis!=n.HORIZONTAL&&this.axis!=n.BOTH||(this.followed.right+t>this.right?this.x=this.followed.right+t-this.width:this.followed.left-t<this.left&&(this.x=this.followed.left-t)),this.axis!=n.VERTICAL&&this.axis!=n.BOTH||(this.followed.bottom+e>this.bottom?this.y=this.followed.bottom+e-this.height:this.followed.top-e<this.top&&(this.y=this.followed.top-e))),this.shouldStayWithinWorldBounds&&!new o({x:this.x,y:this.y,width:this.width,height:this.height}).within(this.worldRect)&&(this.x<this.worldRect.left&&(this.x=this.worldRect.left),this.y<this.worldRect.top&&(this.y=this.worldRect.top),this.x+this.width>this.worldRect.right&&(this.x=this.worldRect.right-this.width),this.y+this.height>this.worldRect.bottom&&(this.y=this.worldRect.bottom-this.height))},h.prototype.updateDimensions=function(){this.height=this.canvas.height/this.zoomLevel,this.width=this.canvas.width/this.zoomLevel},h.prototype.zoomIn=function(t,e){var i=void 0!==t?t:this.followed.center.x,o=void 0!==e?e:this.followed.center.y;this.zoomLevel*=this.zoomingRate,this.zoomLevel>8?this.zoomLevel=8:(this.x=(this.x-i)/this.zoomingRate+i,this.y=(this.y-o)/this.zoomingRate+o)},h.prototype.zoomOut=function(t,e){var i=void 0!==t?t:this.followed.center.x,o=void 0!==e?e:this.followed.center.y;this.zoomLevel/=this.zoomingRate,this.zoomLevel<.02?this.zoomLevel=.02:(this.x=(this.x-i)*this.zoomingRate+i,this.y=(this.y-o)*this.zoomingRate+o)},h.prototype.applyToX=function(t){return Math.round((t-this.x)*this.zoomLevel)},h.prototype.applyToY=function(t){return Math.round((t-this.y)*this.zoomLevel)},h.prototype.apply=function(t,e){return new s(this.applyToX(t),this.applyToY(e))},h.prototype.applyToDistance=function(t){return Math.round(t*this.zoomLevel)},h.prototype.unapplyToX=function(t){return Math.round(t/this.zoomLevel+this.x)},h.prototype.unapplyToY=function(t){return Math.round(t/this.zoomLevel+this.y)},h.prototype.unapply=function(t,e){return new s(this.unapplyToX(t),this.unapplyToY(e))},h.prototype.unapplyToDistance=function(t){return Math.round(t/this.zoomLevel)},t.exports=h},function(t,e,i){var o=i(0),s=function(){function t(){}return Object.defineProperties(t.prototype,{dt:{get:function(){return o.toFixedPrecision((this.currentTime-this.previousTime)/1e3,4)}}}),t.prototype.update=function(){this.previousTime=this.currentTime,this.currentTime=Date.now(),this.totalTime+=this.currentTime-this.previousTime},t.prototype.reset=function(){this.totalTime=0,this.currentTime=Date.now(),this.previousTime=this.currentTime},t}();t.exports=s},function(t,e,i){var o=i(4),s=i(1),n=function(){function t(t,e){this.A=t,this.B=e}return t.prototype.getBoundingRect=function(){return new o({x:Math.min(this.A.x,this.B.x),y:Math.min(this.A.y,this.B.y),width:Math.abs(this.B.x-this.A.x),height:Math.abs(this.B.y-this.A.y)})},t.prototype.isOrthogonalProjectedPointOnSegment=function(t){var e=s.subtract(this.B,this.A),i=s.subtract(t,this.A),o=s.subtract(t,this.B);return s.dotProduct(e,i)*s.dotProduct(e,o)<=0},t.prototype.getOrthogonalProjectionOfPoint=function(t){var e=s.subtract(this.B,this.A).getUnitVector(),i=s.subtract(t,this.A),o=s.dotProduct(i,e);return s.sum(this.A,e.scale(o))},t.prototype.getDistanceFromPoint=function(t){var e=s.subtract(this.B,this.A),i=s.dotProduct(s.subtract(t,this.A),e)/e.norm;return i<0?s.subtract(A,t).norm:i>1?s.subtract(B,t).norm:void 0},t.prototype.getDistanceFromPointToLine=function(t){var e=s.subtract(this.B,this.A).getUnitVector().getNormalVector();return Math.abs(s.dotProduct(s.subtract(t,this.A),e))},t.prototype.getClosestPointOnSegment=function(t){var e=s.subtract(t,this.A),i=s.subtract(this.B,this.A),o=i.norm,n=i.scale(1/o),h=s.dotProduct(e,n)/o;if(h<0)return this.A;if(h>1)return this.B;var r=s.dotProduct(e,n);return s.sum(this.A,n.scale(r))},t.prototype.getPointOfIntersectionWithCircle=function(t){var e=new s(t.x,t.y),i=this.getClosestPointOnSegment(e);return(CH=s.subtract(i,e).normSquared<Math.pow(t.r,2))&&i},t}();t.exports=n},function(t,e){function i(t,e,i,o){this.x=t,this.y=e,this.size=i,this.image=new Image,this.image.src=o}i.prototype.draw=function(t,e){t.save(),t.drawImage(this.image,e.applyToX(this.x),e.applyToY(this.y),e.applyToDistance(this.size),e.applyToDistance(this.size)),t.restore()},t.exports=i},function(t,e,i){(function(e){var o={Game:i(25),Rectangle:i(4),Circle:i(28),Vector:i(1),Segment:i(21),Camera:i(19),GameTimer:i(20),Grid:i(29),Input:i(30),Keyboard:i(9),MouseManager:i(32),TouchManager:i(10),Particle:i(33),physics:i(34),Sound:i(18),SoundManager:i(17),Tile:i(22),Tilemap:i(35)};t.exports=o,e.SDK=o}).call(this,i(24))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){var o=i(9),s=i(10),n=i(17),h=i(19),r=i(20);function a(){this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),this.keyboard=new o(this),this.touchInput=new s(this),this.soundManager=new n(gameData),this.camera=new h({canvas:this.canvas}),this.timer=new r}a.prototype.step=function(){this.timer.update(),dt=this.timer.dt,this.update(),this.render(this.ctx,this.camera),this.frame=requestAnimationFrame(this.step.bind(this))},t.exports=a},function(t,e){t.exports=function(t){this.keyCode=t,this.event,this.location,this.key,this.repeat=!1,this.altKey=!1,this.shiftKey=!1,this.metaKey=!1,this.isPressed=!1,this.pressStart,this.pressEnd,this.pressDuration,this.isEnabled=!0,this.onDown=function(){},this.onUp=function(){}}},function(t,e){t.exports=["Escape","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","ShiftLeft","ShiftRight","ControlLeft","ControlRight","MetaLeft","MetaRight","AltLeft","AltRight","KeyA","KeyB","KeyC","KeyD","KeyE","KeyF","KeyG","KeyH","KeyI","KeyJ","KeyK","KeyL","KeyM","KeyN","KeyO","KeyP","KeyQ","KeyR","KeyS","KeyT","KeyU","KeyV","KeyW","KeyX","KeyY","KeyZ","BracketLeft","BracketRight","Semicolon","Quote","Backslash","Comma","Period","Slash","IntlBackslash","ContextMenu","CapsLock","Enter","Space","Tab","Backspace","Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","PrintScreen","ScrollLock","Pause","Insert","Home","PageUp","Delete","End","PageDown","ArrowUp","ArrowLeft","ArrowDown","ArrowRight","NumLock","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","Numpad0","NumpadAdd","NumpadSubtract","NumpadDecimal","NumpadEnter","NumpadDivide","NumpadEqual","NumpadComma","NumpadMultiply"]},function(t,e,i){var o=i(4),s=i(1);function n(t,e,i){this.x=t||0,this.y=e||0,this.r=i||0}Object.defineProperties(n.prototype,{diameter:{get:function(){return 2*this.r}},center:{get:function(){return new s(this.x,this.y)}},area:{get:function(){return Math.PI*this.r*this.r}},left:{get:function(){return this.x-this.r}},right:{get:function(){return this.x+this.r}},top:{get:function(){return this.y-this.r}},bottom:{get:function(){return this.y+this.r}}}),n.prototype.moveTo=function(t,e){this.x=t,this.y=e},n.prototype.containsPoint=function(t,e){return Math.pow(t-this.x,2)+Math.pow(e-this.y,2)<Math.pow(this.r,2)},n.prototype.getBoundingRect=function(){return new o({x:this.x-this.r,y:this.y-this.r,width:2*this.r,height:2*this.r})},t.exports=n},function(t,e,i){var o=i(1),s=function(){function t(t){this.camera=t.camera,this.canvas=t.canvas,this.mouse=t.mouse,this.options=t.options,this.cursorSize=10,this.cursorColor="white",this.innerGridSize=100,this.precisionAreaSize=this.innerGridSize,this.precisionGridSize=this.innerGridSize/10,this.isPrecisionAreaRound=!1}return t.prototype.getMousePosSnappedToGrid=function(t,e){var i=this.camera,s=this.precisionGridSize,n=i.unapply(t,e),h=new o(Math.round(n.x/s)*s,Math.round(n.y/s)*s);return i.apply(h.x,h.y)},t.prototype.getMouseGamePosSnappedToGrid=function(t,e){var i=this.camera,o=this.getMousePosSnappedToGrid(t,e);return i.unapply(o.x,o.y)},t.prototype._drawRulers=function(t,e){var i=this.innerGridSize,o=Math.floor(e.left/i,2)*i,s=Math.ceil(e.right/i,2)*i,n=Math.floor(e.top/i,2)*i,h=Math.ceil(e.bottom/i,2)*i;t.save(),t.font="bold 16px Arial",t.fillStyle=gameData.colors.STAR_WARS_YELLOW,t.strokeStyle="white";for(var r=o;r<=s;r+=i)t.beginPath(),t.moveTo(e.applyToX(r),e.applyToY(e.top)),t.lineTo(e.applyToX(r),e.applyToY(e.top)+10),t.stroke(),t.beginPath(),t.moveTo(e.applyToX(r),e.applyToY(e.bottom)),t.lineTo(e.applyToX(r),e.applyToY(e.bottom)-10),t.stroke(),r%(5*i)==0&&(t.fillText(r,e.applyToX(r)+10,e.applyToY(e.top)+20),t.fillText(r,e.applyToX(r)+10,e.applyToY(e.bottom)-10));for(r=n;r<=h;r+=i)t.beginPath(),t.moveTo(e.applyToX(e.left),e.applyToY(r)),t.lineTo(e.applyToX(e.left)+10,e.applyToY(r)),t.stroke(),t.moveTo(e.applyToX(e.right),e.applyToY(r)),t.lineTo(e.applyToX(e.right)-10,e.applyToY(r)),t.stroke(),r%(5*i)==0&&(t.textAlign="left",t.fillText(-r,e.applyToX(e.left)+10,e.applyToY(r)-10),t.textAlign="right",t.fillText(-r,e.applyToX(e.right)-10,e.applyToY(r)-10));t.restore()},t.prototype._drawInnerGrid=function(t,e){for(var i=this.innerGridSize,o=Math.floor(e.left/i,2)*i,s=Math.ceil(e.right/i,2)*i,n=Math.floor(e.top/i,2)*i,h=Math.ceil(e.bottom/i,2)*i,r=o;r<=s;r+=i)t.strokeStyle=r%(5*i)==0?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.3)",t.beginPath(),t.moveTo(e.applyToX(r),e.applyToY(e.top)),t.lineTo(e.applyToX(r),e.applyToY(e.bottom)),t.stroke();for(var a=n;a<=h;a+=i)t.strokeStyle=a%(5*i)==0?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.3)",t.beginPath(),t.moveTo(e.applyToX(e.left),e.applyToY(a)),t.lineTo(e.applyToX(e.right),e.applyToY(a)),t.stroke()},t.prototype._drawPrecisionArea=function(t,e){var i=this.getMousePosSnappedToGrid(this.mouse.x,this.mouse.y),o=this.precisionAreaSize*e.zoomLevel,s=this.precisionGridSize*e.zoomLevel,n=Math.floor(i.x-o/2),h=Math.ceil(i.x+o/2),r=Math.floor(i.y-o/2),a=Math.ceil(i.y+o/2);t.strokeStyle="grey";for(var u=n;u<=h;u+=s)t.beginPath(),t.moveTo(u,r),t.lineTo(u,a),t.stroke();for(var c=r;c<=a;c+=s)t.beginPath(),t.moveTo(n,c),t.lineTo(h,c),t.stroke()},t.prototype._drawCursor=function(t,e){var i=this.getMousePosSnappedToGrid(this.mouse.x,this.mouse.y),o=this.cursorSize;t.strokeStyle=this.cursorColor,t.lineWidth=2,t.beginPath(),t.moveTo(i.x-o/2,i.y),t.lineTo(i.x+o/2,i.y),t.moveTo(i.x,i.y-o/2),t.lineTo(i.x,i.y+o/2),t.stroke(),t.restore()},t.prototype._displayCoordinates=function(t,e){var i=this.getMousePosSnappedToGrid(this.mouse.x,this.mouse.y);t.font="bold 14px Arial",t.fillStyle="#ccc";var o=e.unapply(i.x,i.y);t.fillText(o.x+", "+o.y,i.x+20,i.y-20)},t.prototype.draw=function(t,e,i){(e=this.camera).zoomLevel<=.3?this.innerGridSize=1e3:e.zoomLevel<.5?this.innerGridSize=100:e.zoomLevel<3?this.innerGridSize=50:e.zoomLevel<5&&(this.innerGridSize=10),this.precisionAreaSize=this.innerGridSize,this.precisionGridSize=this.precisionAreaSize/10,this.options.displayRulers&&this._drawRulers(t,e),!this.options.isGame&&this._drawInnerGrid(t,e),!this.options.isGame&&this._drawCursor(t,e),!this.options.isGame&&this._displayCoordinates(t,e),!this.options.isGame&&this.options.displayRulers&&this._drawRulers(t,e)},t}();t.exports=s},function(t,e,i){t.exports={Keyboard:i(9),Mouse:i(31),Touch:i(10)}},function(t,e){function i(t){this.app=t,this.canvas=document.getElementById("canvas"),this.naturalScrolling=!0,this.buttons={0:!1,1:!1,2:!1},this.wheel=0,this.clickX=0,this.clickY=0,this.releaseX=0,this.releaseY=0,this.x,this.y,this.dx=0,this.dy=0,this.grabbed=null,this.grabbedStartingX,this.grabbedStartingY,this.canvas.addEventListener("contextmenu",(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1})),this.canvas.addEventListener("mousedown",function(t){switch(this.clickX=t.clientX+this.canvas.offsetLeft,this.clickY=t.clientY+this.canvas.offsetTop,this.buttons[t.button]=!0,t.button){case 1:this.canvas.style.cursor="move",this.grabbed=this.app.camera,this.grabbedStartingX=this.grabbed.x,this.grabbedStartingY=this.grabbed.y}}.bind(this)),this.canvas.addEventListener("mouseup",function(t){switch(this.releaseX=t.clientX+this.canvas.offsetLeft,this.releaseY=t.clientY+this.canvas.offsetTop,this.buttons[t.button]=!1,t.button){case 1:this.canvas.style.cursor="",this.grabbed=null}}.bind(this)),this.canvas.addEventListener("mousemove",function(t){var e=this.app.camera,i=this.naturalScrolling?1:-1;this.x=t.clientX+this.canvas.offsetLeft,this.y=t.clientY+this.canvas.offsetTop,this.buttons[1]&&(this.grabbed.x=this.grabbedStartingX-i*(this.x-this.clickX)/e.zoomLevel,this.grabbed.y=this.grabbedStartingY-i*(this.y-this.clickY)/e.zoomLevel)}.bind(this)),this.canvas.addEventListener("wheel",function(t){var e=this.app.camera,i=t.deltaY,o=this.app.grid.getMouseGamePosSnappedToGrid(this.x,this.y);i>0?e.zoomIn(o.x,o.y):e.zoomOut(o.x,o.y)}.bind(this))}i.prototype.on=function(t,e,i){t.addEventListener(e,i,arguments[3])},i.prototype.off=function(t,e,i){t.removeEventListener(e,i,arguments[3])},t.exports=i},function(t,e){function i(t){this.app=t,this.canvas=document.getElementById("canvas"),this.naturalScrolling=!0,this.buttons={0:!1,1:!1,2:!1},this.wheel=0,this.clickX=0,this.clickY=0,this.releaseX=0,this.releaseY=0,this.x,this.y,this.dx=0,this.dy=0,this.grabbed=null,this.grabbedStartingX,this.grabbedStartingY,this.canvas.addEventListener("contextmenu",(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1})),this.canvas.addEventListener("mousedown",function(t){switch(this.clickX=t.clientX+this.canvas.offsetLeft,this.clickY=t.clientY+this.canvas.offsetTop,this.buttons[t.button]=!0,t.button){case 1:this.canvas.style.cursor="move",this.grabbed=this.app.camera,this.grabbedStartingX=this.grabbed.x,this.grabbedStartingY=this.grabbed.y}}.bind(this)),this.canvas.addEventListener("mouseup",function(t){switch(this.releaseX=t.clientX+this.canvas.offsetLeft,this.releaseY=t.clientY+this.canvas.offsetTop,this.buttons[t.button]=!1,t.button){case 1:this.canvas.style.cursor="",this.grabbed=null}}.bind(this)),this.canvas.addEventListener("mousemove",function(t){var e=this.app.camera,i=this.naturalScrolling?1:-1;this.x=t.clientX+this.canvas.offsetLeft,this.y=t.clientY+this.canvas.offsetTop,this.buttons[1]&&(this.grabbed.x=this.grabbedStartingX-i*(this.x-this.clickX)/e.zoomLevel,this.grabbed.y=this.grabbedStartingY-i*(this.y-this.clickY)/e.zoomLevel)}.bind(this)),this.canvas.addEventListener("wheel",function(t){var e=this.app.camera,i=t.deltaY,o=this.app.grid.getMouseGamePosSnappedToGrid(this.x,this.y);i>0?e.zoomIn(o.x,o.y):e.zoomOut(o.x,o.y)}.bind(this))}i.prototype.on=function(t,e,i){t.addEventListener(e,i,arguments[3])},i.prototype.off=function(t,e,i){t.removeEventListener(e,i,arguments[3])},t.exports=i},function(t,e,i){var o=i(1),s=function(){function t(t){o.call(this,t.x,t.y),this.circle=t.circle,this.size=t.size,this.color=t.color,this.v=new o(t.vx,t.vy),this.createdAt=Date.now(),this.maxLife=t.maxLife}return t.prototype=Object.create(o.prototype),t.prototype.constructor=t,t.prototype.update=function(){this.x+=this.v.x*dt,this.y+=this.v.y*dt},t.prototype.destroy=function(){delete this.particles[this.id]},t.prototype.draw=function(t,e){t.fillStyle=this.color,t.beginPath(),this.circle?t.arc(e.applyToX(this.x+this.size/2),e.applyToY(this.y+this.size/2),e.applyToDistance(this.size/2),0,2*Math.PI):t.rect(e.applyToX(this.x),e.applyToY(this.y),e.applyToDistance(this.size),e.applyToDistance(this.size)),t.fill()},t}();t.exports=s},function(t,e,i){var o=i(21),s=i(1),n=i(0),h={collision:{RectangleWithRectangle:function(t,e){return t.left<=e.right&&t.right>=e.left&&t.top<=e.bottom&&t.bottom>=e.top},circleWithSegment:function(t,e){new s(t.x,t.y);var i=e.getPointOfIntersectionWithCircle(t);return i||!1},lineSegmentCollision:function(t,e,i,o){var n=s.subtract(e,t),h=s.subtract(o,t),r=s.subtract(i,t);return s.determinant(n,h)*s.determinant(n,r)<0},segmentWithSegment:function(t,e,i,o){if(!this.lineSegmentCollision(t,e,i,o))return Number.POSITIVE_INFINITY;var h=s.subtract(e,t),r=s.subtract(o,i),a=-(t.x*r.y-i.x*r.y-r.x*t.y+r.x*i.y),u=s.determinant(h,r);return k=n.toFixedPrecision(a/u,2),k<0||k>1?Number.POSITIVE_INFINITY:k},segmentRectangle:function(t,e,i){s.subtract(e,t);for(var n,h=[new s(i.left,i.top),new s(i.right,i.top),new s(i.right,i.bottom),new s(i.left,i.bottom)],r=Number.POSITIVE_INFINITY,a=[[0,1],[-1,0],[0,-1],[1,0]],u=0;u<4;u++){var c=new o(h[u],h[(u+1)%4]),p=this.segmentWithSegment(t,e,c.A,c.B);p<r&&(r=p,n=a[u])}return{t:r,side:n}}}};t.exports=h},function(t,e,i){var o=i(22);function s(){this.rows=100,this.columns=100,this.tileSize=40,this.data={tiles:[{row:-20,column:0,src:"./assets/images/smoke2.png"},{row:-20,column:1,src:"./assets/images/smoke2.png"},{row:-20,column:2,src:"./assets/images/smoke2.png"},{row:-20,column:3,src:"./assets/images/smoke2.png"},{row:-20,column:3,src:"./assets/images/smoke2.png"},{row:-20,column:4,src:"./assets/images/smoke2.png"},{row:-21,column:4,src:"./assets/images/smoke2.png"},{row:-21,column:5,src:"./assets/images/smoke2.png"},{row:-21,column:6,src:"./assets/images/smoke1.png"},{row:-21,column:7,src:"./assets/images/smoke1.png"},{row:-21,column:8,src:"./assets/images/smoke1.png"},{row:-21,column:9,src:"./assets/images/smoke2.png"},{row:-21,column:10,src:"./assets/images/bootstrap-logo.png"},{row:-20,column:10,src:"./assets/images/bootstrap-logo.png"},{row:-19,column:10,src:"./assets/images/bootstrap-logo.png"},{row:-18,column:10,src:"./assets/images/smoke2.png"}]},this.tiles=[],this.data.tiles.forEach((function(t){var e=this.tileSize*t.column,i=this.tileSize*t.row,s=new o(e,i,this.tileSize,t.src);this.tiles.push(s)}),this)}s.prototype.draw=function(t,e){this.tiles.forEach((function(i){i.draw(t,e)}),this)},t.exports=s}]);
//# sourceMappingURL=SDK.js.map